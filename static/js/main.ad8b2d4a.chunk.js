(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAADUCAMAAABj/9sYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjYyRkY3OUJGREYzMTFFOUE1RTBERjBDQjVCRDQ4NkUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjYyRkY3OUFGREYzMTFFOUE1RTBERjBDQjVCRDQ4NkUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJCMjRBMkMyMEQ2OEU2RDNFMjAzNDVCQUY3QTBDQUEwOCIgc3RSZWY6ZG9jdW1lbnRJRD0iQjI0QTJDMjBENjhFNkQzRTIwMzQ1QkFGN0EwQ0FBMDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7fFcu0AAADAFBMVEXS09W8vL7Q0dLLzM6/wMKtrrHe3+DO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"},22:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),i=a(5),s=a(6),l=a(8),u=a(7),A=a(9),b=(a(27),a(14)),h="https://reactnd-books-api.udacity.com",m=localStorage.token;m||(m=localStorage.token=Math.random().toString(36).substr(-8));var v={Accept:"application/json",Authorization:m},g=function(){return fetch("".concat(h,"/books"),{headers:v}).then(function(e){return e.json()}).then(function(e){return e.books})},d=function(e,t){return fetch("".concat(h,"/books/").concat(e.id),{method:"PUT",headers:Object(b.a)({},v,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},f=function(e){return fetch("".concat(h,"/search"),{method:"POST",headers:Object(b.a)({},v,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},k=a(11),E=a(3),p=function(e){var t=e.book,a=e.books,n=e.changeShelf,o=a.filter(function(e){return e.id===t.id}),c=o.length?o[0].shelf:"none";return r.a.createElement("div",{className:"book-shelf-changer",title:"Move to..."},r.a.createElement("select",{defaultValue:c,onChange:function(e){var a;a=e.target.value,n(t,a)}},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read"),r.a.createElement("option",{value:"none"},"None")))},G=a(18),Q=a.n(G),N=function(e){var t=e.book,a=e.books,n=e.changeShelf,o=isNaN(t.averageRating)?"0":t.averageRating.toString().replace(".",""),c=t.imageLinks&&t.imageLinks.thumbnail?t.imageLinks.thumbnail:Q.a,i=t.title?t.title:"No title available";return r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("div",{className:"book-cover",style:{width:128,backgroundSize:"cover",backgroundImage:'url("'.concat(c,'")')}}),r.a.createElement("div",{className:"book-info"},r.a.createElement("div",{className:"book-title"},r.a.createElement("h5",{title:i},i)),r.a.createElement("div",{className:"book-authors"},t.authors&&t.authors.map(function(e,t){return r.a.createElement("div",{key:t},e)})),r.a.createElement("div",{className:"book-rating"},r.a.createElement("span",{className:"stars-container stars-".concat(o)},"\u2605\u2605\u2605\u2605\u2605")),r.a.createElement("div",{className:"book-description"},t.description&&t.description.substr(0,150))),r.a.createElement(p,{book:t,books:a,changeShelf:n})))},w=function(e){var t=e.books,a=e.changeShelf,n=e.shelfTitle;return r.a.createElement("div",null,r.a.createElement("div",{className:"bookshelf"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"bookshelf-title"},n),r.a.createElement("div",{className:"bookshelf-books"},r.a.createElement("ol",{className:"books-grid"},t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(N,{book:e,books:t,changeShelf:a}))}))))))},y=function(e){var t=e.books,a=e.changeShelf;return r.a.createElement("div",{className:"list-books-content"},[{type:"currentlyReading",title:"Currently Reading"},{type:"wantToRead",title:"Want to Read"},{type:"read",title:"Read"}].map(function(e){var n=t.filter(function(t){return t.shelf===e.type});return r.a.createElement(w,{key:e.type,shelfTitle:e.title,books:n,changeShelf:a})}))},D=function(e){var t=e.changeTerms;return r.a.createElement("div",{className:"search-books-bar"},r.a.createElement(E.b,{to:"/",title:"Back",className:"close-search"},"Close"),r.a.createElement("div",{className:"search-books-input-wrapper"},r.a.createElement("input",{type:"text",autoFocus:!0,placeholder:"Search by title or author",onChange:function(e){return t(e.target.value)}})))},R=a(21),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchTerm:"",books:[],loading:!1,error:!1,searchTermFinded:""},a.searchDebounced=Object(R.a)(500,function(e){return a.searchBooks(e)}),a.changeTerms=function(e){a.setState({searchTerm:e},function(){var e=a.state.searchTerm;a.searchDebounced(e)})},a.searchBooks=function(e){var t=e.trim();if(!t.length)return a.setState(function(){return{books:[],loading:!1,error:!1,searchTermFinded:t}});a.setState(function(){return{loading:!0}}),f(t,20).then(function(e){a.setState(function(t){return{books:e,loading:!1,error:!1,searchTermFinded:t.searchTerm}})}).catch(function(e){a.setState(function(){return{error:!0}})}).finally(function(){a.state.searchTerm.trim().length||a.setState(function(){return{books:[]}}),a.setState(function(){return{loading:!1}})})},a}return Object(A.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.books,n=t.searchTerm,o=t.searchTermFinded;return r.a.createElement("div",{className:"search-books"},r.a.createElement(D,{changeTerms:this.changeTerms}),this.state.loading||n!==o?r.a.createElement("p",{className:"search-books-info"},"Loding..."):r.a.createElement("div",null,a.length>0&&r.a.createElement("div",{className:"search-books-results"},r.a.createElement("div",{className:"container"},r.a.createElement("p",null,a.length," books found"),r.a.createElement("ol",{className:"books-grid"},a.map(function(t){return r.a.createElement("li",{key:t.id},r.a.createElement(N,{books:e.props.books,book:t,changeShelf:e.props.changeShelf}))})))),a.error&&n.trim().length>0&&n===o&&r.a.createElement("h3",{className:"search-books-info"},"Search ",r.a.createElement("span",{className:"tag"},o)," did not return any books. Please try again!")))}}]),t}(n.Component),O=function(){return r.a.createElement("header",{className:"list-books-navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"list-books-title"},r.a.createElement("h1",null,"MyReads"))))},B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.componentDidMount=function(){g().then(function(e){a.setState(function(){return{books:e}})})},a.changeShelf=function(e,t){d(e,t).then(function(n){e.shelf=t,a.setState(function(t){return{books:t.books.filter(function(t){return t.id!==e.id}).concat(e)}})})},a}return Object(A.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement(k.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",{className:"list-books"},r.a.createElement(O,null),r.a.createElement(y,{books:e.state.books,changeShelf:e.changeShelf}),r.a.createElement("div",{className:"open-search"},r.a.createElement(E.b,{to:"/search",className:"open-search-link"},"Add a book")))}}),r.a.createElement(k.a,{path:"/search",render:function(){return r.a.createElement(j,{books:e.state.books,changeShelf:e.changeShelf})}}))}}]),t}(r.a.Component);a(34);c.a.render(r.a.createElement(E.a,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.ad8b2d4a.chunk.js.map